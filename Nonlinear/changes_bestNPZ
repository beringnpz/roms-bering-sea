Ice bio Initialization.

Change this:

! Initialize the ice biology
	    
               BioBI(i,iIcePhL) = 1.1638_r8  !0.1638_r8       
               BioBI(i,iIceNO3) = Bio(i,N(ng),iNO3)  !5.0_r8        
               BioBI(i,iIceNH4) = Bio(i,N(ng),iNH4)  !1.0_r8       
            
	     elseif (itL(i,j,nstp,iIceLog).le.0.and.itL(i,j,nnew,iIceLog).lt.0)THEN  !no ice 

To this - eleviates the problem of generating N when initialize ice bio

! Initialize the ice biology
	    
               BioBI(i,iIcePhL) = Bio(i,N(ng),iPhL) !1.1638_r8  !0.1638_r8       
               BioBI(i,iIceNO3) = Bio(i,N(ng),iNO3)  !5.0_r8        
               BioBI(i,iIceNH4) = Bio(i,N(ng),iNH4)  !1.0_r8       
            

         DBio(i,N(ng),iNO3)=DBio(i,N(ng),iNO3)-Bio(i,N(ng),iNO3)*aidz/Hz(i,j,N(ng))
         DBio(i,N(ng),iNH4)=DBio(i,N(ng),iNH4)-Bio(i,N(ng),iNH4)*aidz/Hz(i,j,N(ng))
         DBio(i,N(ng),iPhL)=DBio(i,N(ng),iPhL)-Bio(i,N(ng),iPhL)*aidz/Hz(i,j,N(ng))


	     elseif (itL(i,j,nstp,iIceLog).le.0.and.itL(i,j,nnew,iIceLog).lt.0)THEN  !no ice 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Zoop grazing on ice bio.

Change this:

#ifdef CLIM_ICE_1D     
     &         + fpPhLCop*0.1 * ( BioBI(i,iIcePhL)/Hz(i,j,N(ng)))**2 
#elif defined BERING_10K
     &         + fpPhLCop*0.1 * ( IcePhL(i,j,nstp)/Hz(i,j,N(ng)))**2
#endif

To this: 

#ifdef CLIM_ICE_1D     
     &    + fpPhLCop*0.1 * ( BioBI(i,iIcePhL)*aidz/Hz(i,j,N(ng)))**2 
#elif defined BERING_10K
     &    + fpPhLCop*0.1 * ( IcePhL(i,j,nstp)*aidz/Hz(i,j,N(ng)))**2
#endif

------

And correspondingly change this:

#ifdef ICE_BIO     
     		DBioBI(i,iIcePhL)=DBioBI(i,iIcePhL)-fpPhLCop*0.1*  &
# ifdef CLIM_ICE_1D 		
     & (BioBI(i,iIcePhL)/Hz(i,j,N(ng)))**2 * cff2 * cff3 * dtdays  &
     &   *Hz(i,j,N(ng))
# elif defined BERING_10K     
     & (IcePhL(i,j,nstp)/Hz(i,j,N(ng)))**2 * cff2 * cff3 * dtdays  &
     &   *Hz(i,j,N(ng))
# endif 
#endif

To this:

#ifdef ICE_BIO     
     		DBioBI(i,iIcePhL)=DBioBI(i,iIcePhL)-fpPhLCop*0.1*  &
# ifdef CLIM_ICE_1D 		
     & (BioBI(i,iIcePhL)*aidz/Hz(i,j,N(ng)))**2 * cff2 * cff3 * dtdays  

# elif defined BERING_10K     
     & (IcePhL(i,j,nstp)*aidz/Hz(i,j,N(ng)))**2 * cff2 * cff3 * dtdays 
# endif 
#endif

Note the corresponding changes should be made for the other meso zoop categories grazing on ice bio.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Change this:

!#if def DIAPAUSE
!               IF ( downward ) THEN
!     &                   + TFEup*mpredNCa * Bio(i,k,iNCaS)**2             &
!else

To this so that the loss of mortality from neocalanus goes to detritus

!#if def DIAPAUSE
!               IF ( downward ) THEN
     &                   + TFEup*mpredNCa * Bio(i,k,iNCaS)**2             &
!else



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Change this :
! Spread removal evenly over water column 	   

	DO k=1,N(ng)
         DBio(i,k,iDet) =DBio(i,k,iDetF)-dtdays*Hz(i,j,k)*cff7/grid(ng) % h(i,j)
	 DBio(i,k,iDetF)=DBio(i,k,iDet)-dtdays*Hz(i,j,k)*cff8/grid(ng) % h(i,j)

To this so that Det and DetF are used correctly

! Spread removal evenly over water column 	   

	DO k=1,N(ng)
         DBio(i,k,iDet) =DBio(i,k,iDet)-dtdays*Hz(i,j,k)*cff7/grid(ng) % h(i,j)
	 DBio(i,k,iDetF)=DBio(i,k,iDetF)-dtdays*Hz(i,j,k)*cff8/grid(ng) % h(i,j)


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Change this:

! Spread removal evenly over water column 	   

	DO k=1,N(ng)
         DBio(i,k,iDet) =DBio(i,k,iDetF)-dtdays*Hz(i,j,k)*cff7/grid(ng) % h(i,j)
	 DBio(i,k,iDetF)=DBio(i,k,iDet)-dtdays*Hz(i,j,k)*cff8/grid(ng) % h(i,j)
	 DBio(i,k,iPhS) =DBio(i,k,iPhS)-dtdays*Hz(i,j,k)*cff9/grid(ng) % h(i,j)
	 DBio(i,k,iPhL) =DBio(i,k,iPhL)-dtdays*Hz(i,j,k)*cff10/grid(ng) % h(i,j)
To this:
! Spread removal evenly over water column 
         DBio(i,k,iDet) =DBio(i,k,iDet)-dtdays*cff7/grid(ng) % h(i,j)
  	 DBio(i,k,iDetF)=DBio(i,k,iDetF)-dtdays*cff8/grid(ng) % h(i,j)
  	 DBio(i,k,iPhS) =DBio(i,k,iPhS)-dtdays*cff9/grid(ng) % h(i,j)
  	 DBio(i,k,iPhL) =DBio(i,k,iPhL)-dtdays*cff10/grid(ng) % h(i,j)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Change this:

           DBioB(i,k,iBen)=DBioB(i,k,iBen)                         &
     &	                     + (cff7+cff8+cff9+cff10)*dtdays
     

To this. This really shouldnt make a difference but for some reson was messing with the nitrogen budget. 

                DBioB(i,k,iBen)=DBioB(i,k,iBen)   + cff7*dtdays 
                DBioB(i,k,iBen)=DBioB(i,k,iBen)   + cff8*dtdays 
                DBioB(i,k,iBen)=DBioB(i,k,iBen)   + cff9*dtdays 
                DBioB(i,k,iBen)=DBioB(i,k,iBen)   + cff10*dtdays 

